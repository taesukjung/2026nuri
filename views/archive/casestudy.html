<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>구축사례 - NURIINFOS</title>

    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css"
        rel="stylesheet">
    <link href="/css/common.css" rel="stylesheet" type="text/css">
    <link href="/css/sub.css" rel="stylesheet" type="text/css">

    <link rel="stylesheet" href="/css/nav-style.css">
    <script src="/js/jquery-1.10.1.min.js" type="text/javascript"></script>
    <meta name="GENERATOR" content="MSHTML 11.00.10570.1001">
</head>

<body>
    <!-- 공통 네비게이션 포함 -->
    <%- include('../layout/nav.html') %>

        <!-- 히어로 섹션 -->
        <section class="history-hero casestudy">
            <div class="history-hero-content">
                <h2 class="hero-label">구축사례</h2>
                <h1 class="hero-title">경험으로 증명하고 결과로 답합니다.<br>누리인포스가 완성한 성공의 기록들</h1>
            </div>
            <div class="scroll-down">
                <span>Scroll Down</span>
                <div class="arrow"></div>
            </div>
        </section>

        <section class="inquiry">
            <div class="inquiry-container">
                <div class="inquiry-header">
                    <h2 class="inquiry-title">구축사례 </h2>
                    <p class="inquiry-subtitle">성공적인 프로젝트를 위해 누리인포스가 함께 있습니다.</p>
                </div>
            </div>
        </section>

        <section class="casestudy">
            <div class="casestudy-info">
                <div class="link_menu tab_area">
                    <ul id="tab_ul">
                        <li><a href="javascript:;" class="on tab1" id="tab_1">솔루션별</a></li>
                        <li><a href="javascript:;" class="tab2" id="tab_2">업종별</a></li>
                    </ul>
                </div>
                <div class="link_menu tab_info tab1_sub">
                    <ul id="b_category_ul">
                        <li><a href="a" class="on" onclick="return false;" id="category_1">Anyworks®PRM</a></li>
                        <li><a href="a" onclick="return false;" id="category_2">Anyworks®FM</a></li>
                        <li><a href="a" onclick="return false;" id="category_3">Anyworks®Brokerage</a></li>
                        <!--<li><a href="a" onclick="return false;" id="category_4">Anyworks®Mall</a></li>-->
                        <li><a href="a" onclick="return false;" id="category_5">Anyworks®BIS</a></li>
                        <!--<li><a href="a" onclick="return false;" id="category_6">Anyworks®SFA</a></li>
                        <li><a href="a" onclick="return false;" id="category_7">Nuri AF</a></li>
                        <li><a href="a" onclick="return false;" id="category_8">AutoPlatform</a></li>-->
                        <li><a href="a" onclick="return false;" id="category_9">Citrix 외</a></li>
                    </ul>
                </div>
                <div class="link_menu tab_info tab2_sub">
                    <ul id="b_sector_ul">
                        <li><a href="b" class="on" onclick="return false;" id="sector_1">제조/유통</a></li>
                        <li><a href="b" onclick="return false;" id="sector_2">금융</a></li>
                        <li><a href="b" onclick="return false;" id="sector_3">서비스</a></li>
                        <li><a href="b" onclick="return false;" id="sector_4">공공</a></li>
                    </ul>
                </div>
                <div class="contact pt0">
                    <table cellspacing="0" summary="Anyworks®PRM 구축사례" class="tb_type2 casestudy_info mt15">
                        <caption>구축사례</caption>
                        <colgroup>
                            <col width="15%">
                            <col width="15%">
                            <col width="15%">
                            <col>
                        </colgroup>
                        <thead>
                            <tr>
                                <th scope="col">년도</th>
                                <th scope="col">업종</th>
                                <th scope="col">고객사</th>
                                <th scope="col">프로젝트</th>
                            </tr>
                        </thead>
                        <tbody id="data_body"></tbody>
                    </table>
                    <div class="paging">
                        <div class="paging_inner">

                        </div>
                        <div class="btn2 pw_open">글쓰기</div>
                    </div>
                </div>
            </div>
            <div class="layer_popup_area take_over">
                <div class="layer_popup2">
                    <div class="popup_close"><img src="/images/btn_close_popup.png"></div>
                    <div class="layer_info">
                        <form name="wform">
                            <div class="tit">누리인포스 관리자님<br>비밀번호를 입력하세요.</div>
                            <input type="password" name="w_passwd" id="w_passwd">
                            <input type="hidden" name="b_id" id="b_id">
                        </form>
                        <div class="btn2 popup_confirm">확인</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer Section (Wrapped for styling match with Index) -->
        <div id="footer-section">
            <%- include('../layout/footer.html') %>
        </div>

        <script src="/js/sub.js" type="text/javascript"></script>
        <script>
            $(function () {
                search_data("1");

                $(".pw_open").click(function () {
                    $(".take_over").css(
                        "display", "block");
                });

                $(".popup_close").click(function () {
                    $(".take_over").css(
                        "display", "none");

                    // Reset fields on close
                    $("#b_id").val("");
                    $("#w_passwd").val("");
                });

                $(".popup_confirm").click(function () {
                    save();
                });

                $('ul#tab_ul li a').click(function (e) {
                    var id = $(this).attr("id");
                    if (id == "tab_1") {
                        $("#tab_2").removeClass("on");
                        $("#tab_1").addClass("on");
                        $(".tab_info.tab1_sub").css("display", "block");
                        $(".tab_info.tab2_sub").css("display", "none");
                        search_data('1', undefined);
                    } else {
                        $("#tab_1").removeClass("on");
                        $("#tab_2").addClass("on");
                        $(".tab_info.tab2_sub").css("display", "block");
                        $(".tab_info.tab1_sub").css("display", "none");
                        search_data(undefined, '1');
                    }
                });

                $('ul#b_category_ul li a').click(function (e) {
                    var id = $(this).attr("id");
                    $("li a[href='a']").removeClass("on");
                    $("#" + id).addClass("on");
                    var arr = id.split("_");
                    search_data(arr[1], undefined);
                });

                $('ul#b_sector_ul li a').click(function (e) {
                    var id = $(this).attr("id");
                    $("li a[href='b']").removeClass("on");
                    $("#" + id).addClass("on");

                    var arr = id.split("_");
                    search_data(undefined, arr[1]);
                });
            });

            function search_data(b_category, b_sector, page) {
                $.ajax({
                    url: '/ref/list',
                    dataType: 'json',
                    type: 'GET',
                    data: {
                        "b_category": b_category,
                        "b_sector": b_sector,
                        "b_page": typeof page == "undefined" ? 1 : page
                    },
                    success: function (result) {
                        $("#data_body").empty();
                        $(".paging_inner").empty();

                        if (result.REF_LIST.length > 0) {
                            var results = result.REF_LIST;
                            var str = '<TR>';
                            $.each(results, function (i) {
                                str += '<TD>'
                                    + "<a href='javascript:openPop(" + results[i].b_id + ")'>" + results[i].b_date + '</a></TD><TD>'
                                    + "<a href='javascript:openPop(" + results[i].b_id + ")'>" + results[i].b_sector + '</TD><TD>'
                                    + "<a href='javascript:openPop(" + results[i].b_id + ")'>" + results[i].b_client + '</TD><TD>'
                                    + "<a href='javascript:openPop(" + results[i].b_id + ")'>" + results[i].b_text + '</TD>';
                                str += '</TR>';
                            });
                            $("#data_body").append(str);

                            //paging
                            str = "";
                            var curPage = Number(result.currentPage);
                            var totalPage = result.pageCount;
                            var startPage = result.pages[0].number;
                            var endPage = result.pageCount;
                            var itemCount = result.itemCount;

                            if (curPage > 0 && itemCount > 0) {
                                //str += "<a href='/ref/list?page='"+ (curPage-1) +"'><</a>";
                                //str += "<a href='javascript:search_data(\"+ b_category + \",\"+ b_sector + \",\" + currentPage + \")'>";
                                var currentPage = curPage <= 1 ? 1 : (curPage - 1);
                                str += "<a href='javascript:search_data(" + b_category + "," + b_sector + "," + currentPage + ")'>";
                                str += "<</a>";
                            }
                            for (var i = startPage; i <= endPage; i++) {
                                if (i > totalPage) { break; }

                                if (i == curPage) {
                                    //str += "<a href='/ref/list/?page='"+ i + "' class=\"current\">";
                                    str += "<a href='javascript:search_data(" + b_category + "," + b_sector + "," + i + ")'; class=\'current\'>";
                                    str += i;
                                    str += "</a>";
                                } else {
                                    //str += " <a href='/ref/list/?page='"+ i +"'>";
                                    str += "<a href='javascript:search_data(" + b_category + "," + b_sector + "," + i + ")'>";
                                    str += i;
                                    str += "</a>";
                                }
                            } //for
                            if (curPage <= totalPage) {
                                if (curPage != totalPage) {
                                    //str += "<a href='/ref/list?page='"+ (curPage+1) +"'>></a>";
                                    str += "<a href='javascript:search_data(" + b_category + "," + b_sector + "," + (curPage + 1) + ")'>></a>";
                                } else {
                                    //str += "<a href='/ref/list?page='"+ (curPage) +"'>></a>";
                                    str += "<a href='javascript:search_data(" + b_category + "," + b_sector + "," + (curPage) + ")'>></a>";
                                }
                            }
                            $(".paging_inner").append(str);
                        }
                    }
                });
            }

            function openPop(b_id) {
                $("#b_id").val(b_id);
                $(".take_over").css(
                    "display", "block");
            }

            function save() {
                var f = document.wform;
                f.action = "/auth/check/casestudy";
                f.method = "post";
                f.submit();

                //초기화
                $("#b_id").val("");
                $("#w_passwd").val("");
            }

        </script>

</body>

</html>